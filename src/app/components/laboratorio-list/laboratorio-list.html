<div class="container mt-4">

  <h2 class="mb-3 text-center">ğŸ¥ GestiÃ³n de Laboratorios</h2>

  <div *ngIf="loading" class="alert alert-info text-center">
    Cargando laboratorios...
  </div>

  <div *ngIf="error" class="alert alert-danger text-center">
    {{ error }}
  </div>

  <div class="d-flex justify-content-end mb-3">
    <a 
      *ngIf="auth.esAdmin()"
      routerLink="/laboratorios/nuevo" 
      class="btn btn-success">
      â• Nuevo Laboratorio
    </a>
  </div>
 <!-- Tabla de laboratorios -->
  <table *ngIf="!loading && !error && laboratorios.length > 0" 
         class="table table-striped table-bordered table-hover shadow-sm">
    
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>DirecciÃ³n</th>
        <th>TelÃ©fono</th>
        <th class="text-center">Acciones</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let lab of laboratorios">
        <td>{{ lab.id }}</td>
        <td>{{ lab.nombre }}</td>
        <td>{{ lab.direccion }}</td>
        <td>{{ lab.telefono }}</td>

        <td class="text-center">
        <!-- Botones de Editar y Eliminar solo para ADMIN -->
          <a 
            *ngIf="auth.esAdmin()"
            [routerLink]="['/laboratorios/editar', lab.id]" 
            class="btn btn-sm btn-outline-warning me-1">
            âœï¸ Editar
          </a>
        
        
          <button 
            *ngIf="auth.esAdmin()"
            (click)="eliminar(lab.id)" 
            class="btn btn-sm btn-outline-danger">
            ğŸ—‘ï¸ Eliminar
          </button>

        </td>
      </tr>
    </tbody>
  </table>
     <!-- Mensaje cuando no hay laboratorios -->
  <div *ngIf="!loading && !error && laboratorios.length === 0" 
       class="alert alert-secondary text-center">
    No hay laboratorios registrados en la base de datos.
  </div>

</div>
